{% extends "master.html" %}

{% block content %}
    <div class="container"
         style="display: flex; justify-content: space-between"
         align="center">


        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"
             style="width: 63%; border-radius: 0.5rem">
            {% if user.is_authenticated %}
                <div class="carousel-inner">
                    {% for news in last_news %}
                        {% if forloop.first %}
                            <div class="carousel-item active">
                        {% else %}
                            <div class="carousel-item">
                        {% endif %}
                    <img class="d-block w-100" src="{{ news.image.url }}" height="200px"
                         alt="First slide" style="border-radius: 0.5rem">
                    <a href="news/{{ news.id }}">
                        <div class="carousel-caption d-none d-md-block">
                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">
                                {{ news.title }}</p>
                        </div>
                    </a>
                    </div>
                    {% endfor %}
                    {#                    <div class="carousel-item">#}
                    {#                        <img class="d-block w-100" src="/static/images/r1.jpeg" height="200px"#}
                    {#                             alt="Second slide" style="border-radius: 0.5rem">#}
                    {#                        <div class="carousel-caption d-  d-md-block">#}
                    {#                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">#}
                    {#                                قهرمانی رئال در اروپا</p>#}
                    {#                        </div>#}
                    {#                    </div>#}
                    {#                    <div class="carousel-item">#}
                    {#                        <img class="d-block w-100" src="/static/images/s1.jpeg" height="200px"#}
                    {#                             alt="Third slide" style="border-radius: 0.5rem">#}
                    {#                        <div class="carousel-caption d-none d-md-block">#}
                    {#                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">#}
                    {#                                بازگشت رفیعی</p>#}
                    {#                        </div>#}
                    {#                    </div>#}
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

                <div style="width: 35%; border: solid gray; border-radius: 0.5rem">
                    <div style="overflow: scroll; height: 200px;">
                        <ul>
                            <li><a href="">نامزدی بیرانوند برای مرد فوتبال آسیا</a></li>
                            {% for news in following_news %}
                                <li><a href="news/{{ news.id }}">{{ news.title }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

            {% else %}

                <div class="carousel-inner">
                    {% for news in last_news %}
                        {% if forloop.first %}
                            <div class="carousel-item active">
                        {% else %}
                            <div class="carousel-item">
                        {% endif %}
                    <img class="d-block w-100" src="{{ news.image.url }}" height="200px"
                         alt="First slide" style="border-radius: 0.5rem">
                    <a href="news/{{ news.id }}">
                        <div class="carousel-caption d-none d-md-block">
                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">
                                {{ news.title }}</p>
                        </div>
                    </a>
                    </div>
                    {% endfor %}
                    {#                    <div class="carousel-item">#}
                    {#                        <img class="d-block w-100" src="/static/images/r1.jpeg" height="200px"#}
                    {#                             alt="Second slide" style="border-radius: 0.5rem">#}
                    {#                        <div class="carousel-caption d-  d-md-block">#}
                    {#                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">#}
                    {#                                قهرمانی رئال در اروپا</p>#}
                    {#                        </div>#}
                    {#                    </div>#}
                    {#                    <div class="carousel-item">#}
                    {#                        <img class="d-block w-100" src="/static/images/s1.jpeg" height="200px"#}
                    {#                             alt="Third slide" style="border-radius: 0.5rem">#}
                    {#                        <div class="carousel-caption d-none d-md-block">#}
                    {#                            <p style="background-color: #000000bb; position: fixed; padding: 10px; left: 0; right: 0">#}
                    {#                                بازگشت رفیعی</p>#}
                    {#                        </div>#}
                    {#                    </div>#}
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

                <div style="width: 35%; border: solid gray; border-radius: 0.5rem">
                    <div style="overflow: scroll; height: 200px;">
                        <br>
                        <br>
                        <br>
                        <a href="/login">برای دیدن اخبار مورد علاقه خود وارد شوید</a>
                    </div>
                </div>
            {% endif %}
        </div>

        <div class="d-flex p-2 bd-highlight" style="display: flex; justify-content: space-between;"
             align="center">


            <div style="border-radius: 10px; width: 49%; height: 100%; align-content: center; background-color: #CCCCCC">
                <p style="margin: 2px 0 0 0;">همه</p>
                <div style="overflow: scroll; height: 200px">
                    <table class="table table-borderless" title="بازیها"
                           style="font-size: small; ">
                        {% for match in near_matches %}
                            <tr style=" width: 100%; height: 100%;">
                                <td class="games-td">
                                    {{ match.home }}
                                </td>
                                <td class="games-td">
                                    {% if match.home_score != NONE %}
                                        {{ match.home_score }}
                                    {% endif %}
                                </td>
                                <td class="games-td">
                                    -
                                </td>
                                <td class="games-td">
                                    {% if match.away_score != NONE %}
                                        {{ match.away_score }}
                                    {% endif %}
                                </td>
                                <td class="games-td">
                                    {{ match.away }}
                                </td>
                                <td class="games-td">
                                    {{ match.date.date }} -- {{ match.date.time }}
                                </td>
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>

            {% if user.is_authenticated %}
                <div style="border-radius: 10px; width: 49%; height: 100%; align-content: center; background-color: #CCCCCC">
                    <p style="margin: 2px 0 0 0;">بازی های مورد علاقه</p>
                    <div style="overflow: scroll; height: 200px">
                        <table class="table table-borderless" title="بازیها"
                               style="font-size: small;">
                            {% for match in following_matches %}
                                                        <tr style=" width: 100%; height: 100%;">
                                <td class="games-td">
                                    {{ match.home }}
                                </td>
                                <td class="games-td">
                                    {% if match.home_score != NONE %}
                                        {{ match.home_score }}
                                    {% endif %}
                                </td>
                                <td class="games-td">
                                    -
                                </td>
                                <td class="games-td">
                                    {% if match.away_score != NONE %}
                                        {{ match.away_score }}
                                    {% endif %}
                                </td>
                                <td class="games-td">
                                    {{ match.away }}
                                </td>
                                <td class="games-td">
                                    {{ match.date.date }} -- {{ match.date.time }}
                                </td>
                            </tr>

                            {% endfor %}
                        </table>
                    </div>
                </div>
            {% else %}
                <div style="border-radius: 10px; width: 49%; height: 200px; align-content: center; background-color: #CCCCCC">
                    <br>
                    <br>
                    <br>
                    <a href="/login">برای دیدن بازی های مورد علاقه خود وارد شوید</a>
                </div>
            {% endif %}


        </div>
{% endblock content %}